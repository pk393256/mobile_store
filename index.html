<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div id="home">
        <div><a href="./index.html">Home</a></div>
        <div><a href="./cart.html">Cart</a></div>
        <div><a href="./payment.html">Payment</a></div>
    </div>
    <label>Sort by Price</label>
    <select id="sortByPrice ">
        <option value="none">none</option>
        <option value="htl">high to low</option>
        <option value="lth">low to high</option>
    </select>
    <label>Sort by Rating</label>
    <select id="sortByRating">
        <option value="none">none</option>
        <option value="rhtl">high to low</option>
        <option value="rlth">low to high</option>
    </select>
    <div id="container">

    </div>
</body>
<script>
    var cartz=JSON.parse(localStorage.getItem('cart')) || [];
    var data = [
    {
      name: "SAMSUNG Galaxy F12",
      rating: 4,
      image_url:
        "https://rukminim1.flixcart.com/image/312/312/kn22m4w0/mobile/a/q/8/galaxy-f12-sm-f127gzgiins-samsung-original-imagftmjw3xqg4yk.jpeg?q=70",
      price: 11499,
    },
    {
      name: "SAMSUNG Galaxy F42",
      rating: 4.2,
      image_url:
        "https://rukminim1.flixcart.com/image/312/312/ku4ezrk0/mobile/v/5/e/galaxy-f42-5g-sm-e426bzahins-samsung-original-imag7anfwxsgumgz.jpeg?q=70",
      price: 12199,
    },
    {
      name: "Apple Iphone 12",
      rating: 4.6,
      image_url:
        "https://rukminim1.flixcart.com/image/312/312/kg8avm80/mobile/r/h/z/apple-iphone-12-dummyapplefsn-original-imafwg8dqgncgbcb.jpeg?q=70",
      price: 59999,
    },
    {
      name: "APPLE iPhone 12 Mini",
      rating: 4.5,
      image_url:
        "https://rukminim1.flixcart.com/image/312/312/kg8avm80/mobile/d/g/b/apple-iphone-12-mini-dummyapplefsn-original-imafwgbfhfevaajh.jpeg?q=70",
      price: 49999,
    },
    {
      name: "OPPO A12",
      rating: 3.8,
      image_url:
        "https://rukminim1.flixcart.com/image/312/312/kb1470w0/mobile/q/g/g/oppo-a12-cph2083-original-imafsh2hfkyamqyt.jpeg?q=70",
      price: 9490,
    },
    {
      name: "ASUS ROG Phone 3",
      rating: 4.9,
      image_url:
        "https://rukminim1.flixcart.com/image/312/312/kcuug7k0/mobile/g/h/e/asus-rog-phone-3-zs661ks-6a006in-original-imaftwc6nmyuyekd.jpeg?q=70",
      price: 46999,
    },
    {
      name: "DIZO Star 300",
      rating: 3.4,
      image_url:
        "https://rukminim1.flixcart.com/image/312/312/kqpj4i80/mobile/e/i/r/star-300-dh2001-dizo-original-imag4nmpv7zahzs2.jpeg?q=70",
      price: 1299,
    },
    {
      name: "Micromax IN Note 1 ",
      rating: 4.4,
      image_url:
        "https://rukminim1.flixcart.com/image/312/312/ku5ufm80/mobile/v/t/1/in-note-1-e7746-micromax-original-imag7cdgz6tqychm.jpeg?q=70",
      price: 10999,
    },
    {
      name: "SAMSUNG Galaxy Z Fold3 5G",
      rating: 4,
      image_url:
        "https://rukminim1.flixcart.com/image/312/312/ksqeky80/mobile/x/7/1/galaxy-z-fold3-5g-sm-f926bzgdinu-samsung-original-imag68q6hpdwmngw.jpeg?q=70",
      price: 149999,
    },
  ];
  localStorage.setItem('mobData',JSON.stringify(data))
  var x=JSON.parse(localStorage.getItem('mobData'));
  document.querySelector('#container').innerHTML=''
  var y=document.querySelector('#container')
  
  

function display(){
  x.forEach(ele=>{
    var div1=document.createElement('div');
  var name=document.createElement('h2');
  var image=document.createElement('IMG');
  var rate=document.createElement('p');
  var price=document.createElement('h3');
  var addd=document.createElement('button');
  addd.style.color='blue';
 addd.style.cursor='pointer'
  name.innerText=ele.name;
  image.setAttribute('src',ele.image_url)
  price.innerText=ele.price;
  rate.innerText=ele.rating;
  addd.innerText='Add To Cart';
addd.addEventListener('click',function(){
   
    cartz.push(ele);
    localStorage.setItem('cart',JSON.stringify(cartz));
    alert('added successfully')
});
  div1.append(name,image,rate,price,addd)
  y.append(div1);
 
  });
}
display(x);
document.querySelector('#sortByRating').addEventListener('change',function(){
    var ab=document.querySelector('#sortByRating').value;
    if(ab=='htl'){
    x.sort(function(a,b){
        if(a.price>b.price){
            return 1;
        }else if(b.price>a.price){
            return -1;
        }
        return 0;
    });
  }else if(ab=='lth'){
    x.sort(function(a,b){
        if(a.price>b.price){
            return -1;
        }else if(b.price>a.price){
            return 1;
        }
        return 0;
    });
  }
  display(x)

})
  
</script>
</html>